<script>
    let datos = [];
    let encabezados = [];
    let idxStock = -1;

    async function cargarCSV() {
      const url = https://docs.google.com/spreadsheets/d/17tKi6u1Thvc6WPlxiXVcu3n5zzRE4lhKQCdOvOWCU70/edit?usp=drive_link; // <-- tu link aquí
      const response = await fetch(url);
      const texto = await response.text();
      const filas = texto.trim().split("\n").map(f => f.split(","));
      encabezados = filas[0];
      idxStock = encabezados.findIndex(h => h.toLowerCase().trim() === "stock");
      datos = filas.slice(1);
      mostrarTabla(datos, "Mostrando todo el inventario");
    }

    // ... resto del código igual
</script>

